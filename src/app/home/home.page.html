<ion-header>
	<ion-toolbar>
		<ion-title>
			Vexedence Tracker
		</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
	<h1>Add Character</h1>
	<ion-item>
		<ion-label>Character Name</ion-label>
		<ion-input #searchBox></ion-input>
	</ion-item>
	<ion-button (click)="search(searchBox.value)">Search</ion-button>
	<ion-spinner *ngIf="searching"></ion-spinner>
	<ion-grid>
		<ion-row>
			<ion-col *ngFor="let character of searchResults" size="12" size-md="3">
				<ion-card>
					<ion-card-header class="ion-float-left">
						<ion-card-subtitle>{{ character.guild?.name }}</ion-card-subtitle>
						<ion-card-title>{{ character.displayname }}</ion-card-title>
					</ion-card-header>
					<ion-button class="ion-float-right" fill="clear" (click)="add(character)">
						<ion-icon name="add" slot="icon-only"></ion-icon>
					</ion-button>
				</ion-card>
			</ion-col>
		</ion-row>
	</ion-grid>

	<h1>Ley of the Land</h1>
	<ion-button (click)="refresh()">Refresh</ion-button>
	<ion-spinner *ngIf="refreshing"></ion-spinner>
	<table class="ion-text-center">
		<tr>
			<th>Character</th>
			<th>The Blinding</th>
			<th>Aurelian Coast</th>
			<th>Sanctus Seru</th>
			<th>Fordel Midst</th>
			<th>Wracklands</th>
			<th>Hallowed Halls</th>
		</tr>
		<tr *ngFor="let character of characters">
			<td class="ion-text-start">{{ character.name }}</td>
			<td>
				<ion-icon [name]="character.blinding.icon" [color]="character.blinding.color" [title]="character.blinding.tooltip" size="large"></ion-icon>
			</td>
			<td>
				<ion-icon [name]="character.aurelianCoast.icon" [color]="character.aurelianCoast.color" [title]="character.aurelianCoast.tooltip" size="large"></ion-icon>
			</td>
			<td>
				<ion-icon [name]="character.sanctusSeru.icon" [color]="character.sanctusSeru.color" [title]="character.sanctusSeru.tooltip" size="large"></ion-icon>
			</td>
			<td>
				<ion-icon [name]="character.fordelMidst.icon" [color]="character.fordelMidst.color" [title]="character.fordelMidst.tooltip" size="large"></ion-icon>
			</td>
			<td>
				<ion-icon [name]="character.wracklands.icon" [color]="character.wracklands.color" [title]="character.wracklands.tooltip" size="large"></ion-icon>
			</td>
			<td>
				<ion-icon [name]="character.hallowedHalls.icon" [color]="character.hallowedHalls.color" [title]="character.hallowedHalls.tooltip" size="large"></ion-icon>
			</td>
		</tr>
	</table>
</ion-content>